{
  "title": "TIPS 평가 - 부하 테스트 결과",
  "uid": "tips-evaluation",
  "panels": [
    {
      "id": 1,
      "title": "Virtual Users",
      "type": "timeseries",
      "gridPos": { "h": 8, "w": 8, "x": 0, "y": 0 },
      "datasource": { "type": "influxdb", "uid": "${DS_INFLUXDB}" },
      "targets": [
        {
          "query": "SELECT last(\"value\") FROM \"vus\" WHERE $timeFilter GROUP BY time($__interval) fill(null)",
          "rawQuery": true,
          "refId": "A"
        }
      ],
      "fieldConfig": {
        "defaults": {
          "color": { "mode": "palette-classic" },
          "custom": {
            "drawStyle": "line",
            "fillOpacity": 10,
            "lineWidth": 2
          },
          "unit": "short"
        }
      }
    },
    {
      "id": 2,
      "title": "Requests per Second",
      "type": "timeseries",
      "gridPos": { "h": 8, "w": 8, "x": 8, "y": 0 },
      "datasource": { "type": "influxdb", "uid": "${DS_INFLUXDB}" },
      "targets": [
        {
          "query": "SELECT sum(\"value\") FROM \"http_reqs\" WHERE $timeFilter GROUP BY time(1s) fill(0)",
          "rawQuery": true,
          "refId": "A"
        }
      ],
      "fieldConfig": {
        "defaults": {
          "color": { "mode": "palette-classic" },
          "custom": {
            "drawStyle": "line",
            "fillOpacity": 10,
            "lineWidth": 2
          },
          "unit": "reqps"
        }
      }
    },
    {
      "id": 3,
      "title": "Total Requests",
      "type": "stat",
      "gridPos": { "h": 8, "w": 8, "x": 16, "y": 0 },
      "datasource": { "type": "influxdb", "uid": "${DS_INFLUXDB}" },
      "targets": [
        {
          "query": "SELECT sum(\"value\") FROM \"http_reqs\" WHERE $timeFilter",
          "rawQuery": true,
          "refId": "A"
        }
      ],
      "fieldConfig": {
        "defaults": {
          "color": { "mode": "thresholds" },
          "thresholds": {
            "steps": [
              { "color": "green", "value": null }
            ]
          },
          "unit": "short"
        }
      },
      "options": {
        "colorMode": "value",
        "graphMode": "none",
        "textMode": "auto"
      }
    },
    {
      "id": 4,
      "title": "Response Time (over time)",
      "type": "timeseries",
      "gridPos": { "h": 10, "w": 24, "x": 0, "y": 8 },
      "datasource": { "type": "influxdb", "uid": "${DS_INFLUXDB}" },
      "targets": [
        {
          "query": "SELECT mean(\"value\") FROM \"http_req_duration\" WHERE $timeFilter GROUP BY time($__interval) fill(null)",
          "rawQuery": true,
          "refId": "avg",
          "alias": "avg"
        },
        {
          "query": "SELECT percentile(\"value\", 95) FROM \"http_req_duration\" WHERE $timeFilter GROUP BY time($__interval) fill(null)",
          "rawQuery": true,
          "refId": "p95",
          "alias": "p95"
        },
        {
          "query": "SELECT max(\"value\") FROM \"http_req_duration\" WHERE $timeFilter GROUP BY time($__interval) fill(null)",
          "rawQuery": true,
          "refId": "max",
          "alias": "max"
        }
      ],
      "fieldConfig": {
        "defaults": {
          "color": { "mode": "palette-classic" },
          "custom": {
            "drawStyle": "line",
            "fillOpacity": 0,
            "lineWidth": 2,
            "thresholdsStyle": { "mode": "line" }
          },
          "thresholds": {
            "steps": [
              { "color": "green", "value": null },
              { "color": "red", "value": 5000 }
            ]
          },
          "unit": "ms"
        }
      }
    },
    {
      "id": 5,
      "title": "Avg Response Time",
      "type": "stat",
      "gridPos": { "h": 6, "w": 8, "x": 0, "y": 18 },
      "datasource": { "type": "influxdb", "uid": "${DS_INFLUXDB}" },
      "targets": [
        {
          "query": "SELECT mean(\"value\") FROM \"http_req_duration\" WHERE $timeFilter",
          "rawQuery": true,
          "refId": "A"
        }
      ],
      "fieldConfig": {
        "defaults": {
          "color": { "mode": "thresholds" },
          "thresholds": {
            "steps": [
              { "color": "green", "value": null },
              { "color": "yellow", "value": 3000 },
              { "color": "red", "value": 5000 }
            ]
          },
          "unit": "ms",
          "decimals": 0
        }
      },
      "options": {
        "colorMode": "value",
        "graphMode": "none",
        "textMode": "auto"
      }
    },
    {
      "id": 6,
      "title": "P95 Response Time",
      "type": "stat",
      "gridPos": { "h": 6, "w": 8, "x": 8, "y": 18 },
      "datasource": { "type": "influxdb", "uid": "${DS_INFLUXDB}" },
      "targets": [
        {
          "query": "SELECT percentile(\"value\", 95) FROM \"http_req_duration\" WHERE $timeFilter",
          "rawQuery": true,
          "refId": "A"
        }
      ],
      "fieldConfig": {
        "defaults": {
          "color": { "mode": "thresholds" },
          "thresholds": {
            "steps": [
              { "color": "green", "value": null },
              { "color": "yellow", "value": 3000 },
              { "color": "red", "value": 5000 }
            ]
          },
          "unit": "ms",
          "decimals": 0
        }
      },
      "options": {
        "colorMode": "value",
        "graphMode": "none",
        "textMode": "auto"
      }
    },
    {
      "id": 7,
      "title": "Max Response Time",
      "type": "stat",
      "gridPos": { "h": 6, "w": 8, "x": 16, "y": 18 },
      "datasource": { "type": "influxdb", "uid": "${DS_INFLUXDB}" },
      "targets": [
        {
          "query": "SELECT max(\"value\") FROM \"http_req_duration\" WHERE $timeFilter",
          "rawQuery": true,
          "refId": "A"
        }
      ],
      "fieldConfig": {
        "defaults": {
          "color": { "mode": "thresholds" },
          "thresholds": {
            "steps": [
              { "color": "green", "value": null },
              { "color": "yellow", "value": 3000 },
              { "color": "red", "value": 5000 }
            ]
          },
          "unit": "ms",
          "decimals": 0
        }
      },
      "options": {
        "colorMode": "value",
        "graphMode": "none",
        "textMode": "auto"
      }
    }
  ],
  "__inputs": [
    {
      "name": "DS_INFLUXDB",
      "label": "InfluxDB",
      "type": "datasource",
      "pluginId": "influxdb"
    }
  ],
  "time": {
    "from": "now-15m",
    "to": "now"
  },
  "refresh": "5s",
  "schemaVersion": 38,
  "version": 1
}
